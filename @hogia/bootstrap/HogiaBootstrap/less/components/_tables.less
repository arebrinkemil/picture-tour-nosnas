@import '../_variables.less';
@import '../bootstrap/mixins.less';

//
// Tables
// --------------------------------------------------


table {
    max-width: 100%;
    font-size: @font-size-base;
    background-color: @table-bg;
}

th {
    text-align: left;
    font-size: 14px;
    color: #333;
    text-transform: uppercase;
}

td {
    padding-top: 15px !important;
    padding-bottom: 15px !important;

}

td>.btn:last-child {
    margin-right: 13px;
}

// Baseline styles

.table {
    .table-striped();
    .table-hover();
    width: 100%;
    margin-bottom: @line-height-computed;

    // Cells
    >thead,
    >tbody,
    >tfoot {
        >tr {
            border-left: 3px solid transparent;

            >th,
            >td {
                padding: 11px 8px 8px 8px;
                /*@table-cell-padding;*/
                line-height: (@line-height-base * 1.2);
                vertical-align: middle;
                border-top: none;
            }

        }
    }

    // Bottom align for column headings
    >thead>tr>th {
        vertical-align: bottom;
        border-bottom: none;
    }

    // Remove top border from thead by default
    >caption+thead,
    >colgroup+thead,
    >thead:first-child {
        >tr:first-child {

            >th,
            >td {
                border-top: 0;
            }
        }
    }

    // Account for multiple tbody instances
    >tbody+tbody {
        // border-top: 1px solid @table-border-color;
    }

    // Nesting
    .table {
        background-color: @body-bg;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin-top: 10.5px;
    }
}


.table-clean {

    >tbody>tr:nth-child(odd)>td,
    >tbody>tr:nth-child(odd)>th {
        background-color: @body-bg;
    }

    >tbody>tr:hover>td,
    >tbody>tr:hover>th {
        background-color: @body-bg;
    }
}

// Condensed table w/ half padding

.table-condensed {

    >thead,
    >tbody,
    >tfoot {
        >tr {

            >th,
            >td {
                padding: @table-condensed-cell-padding !important;
                .fal.fa-times {
                    margin-left: 30px;
                    color: @gray-light;

                    &:hover {
                        color: @color-danger;
                    }
                }
            }
        }
    }
}


// Bordered version
//
// Add borders all around the table and between all the columns.

.table-bordered {
    border: 1px solid @table-border-color;

    >thead,
    >tbody,
    >tfoot {
        >tr {

            >th,
            >td {
                border: 1px solid @table-border-color;
            }
        }
    }

    >thead>tr {

        >th,
        >td {
            border-bottom-width: 2px;
        }
    }
}

// Zebra-striping
//
// Default zebra-stripe styles (alternating gray and transparent backgrounds)

.table-striped {
    >tbody>tr:nth-child(odd) {

        >td,
        >th {
            background-color: #f5f5f5;
        }
    }

    >tbody>tr:nth-child(even) {

        >td,
        >th {
            background-color: #ffffff;
        }
    }
}

.striped-inverse {

    >tbody>tr:nth-child(odd) {

        >td,
        >th {
            background-color: #ffffff;
        }
    }

    >tbody>tr:nth-child(even) {

        >td,
        >th {
            background-color: #f9f9f9;
        }
    }
}

.table-big {
    >tbody>tr {
        height: 90px;

        >td {
            vertical-align: middle;
            font-size: ceil((@font-size-base * 1.06666)); // ~18px
        }
    }
}

.table-object {
    >tbody>tr {
        height: 60px;

        >td {
            vertical-align: middle;
            font-size: ceil((@font-size-base * 0.933333)); // ~14px            
        }
    }
}

// Hover effect
//
// Placed here since it has to come after the potential zebra striping

.table-hover {
    >tbody>tr:hover {
        border-left: 3px solid fade(@application-color-glow, 25%);

        >td,
        >th {
            background-color: @table-bg-hover;
        }
    }
}

.table-clickable {
    >tbody>tr:hover {
        color: @link-color;
        cursor: pointer;

        >td:last-child:after {
            display: inline-block;
            float: right;
            vertical-align: middle;
            margin-right: .5em;
            margin-left: -1em;
            /* compensate character width */
            font-size: inherit;
            .fontAwesomeProPsuedoElementsLight();
            text-rendering: auto;
            content: "\f054";
            color: @toolbarBorderColor;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            transform: translate(0, 0);
            z-index: 15;
        }
    }
}



.table.table-expandable thead tr.borderExpandableTable.expandableInformation.in,
.table.table-expandable tbody tr {
    border: none;

}

.table-expandable {

    tbody {
        border-top: none !important;
    }

    tr.in>td {
        background: @application-color-transparent  !important;
    }

    tr.collapsing>td {
        background: @application-color-transparent  !important;
    }

    tr.in>td {
        background: @application-color-transparent  !important;
    }


    color: #333333;

    .expandableInformation {
        color: #333333 !important;
        cursor: default !important;
    }

    .borderExpandableTable {
        border: none;
    }

    .buttonContainer {
        margin: 15px 8px;
        float: right;
    }

    .expandedRowSpaceUnder {
        height: 12px !important;
        padding: 0;
        transition: all 0.3s ease-in-out;
    }

    tbody:nth-child(odd)>tr>td {
        background: #ffffff;
        border: 0;
    }

    tbody:nth-child(even)>tr>td {
        background: #f5f5f5;
        border: 0;
    }

    tbody>tr.table-collapse-clickable:hover {
        border-left: 3px solid rgba(102, 133, 201, 0.25) !important;
        color: @link-color;
        cursor: pointer;

        td {
            background-color: rgba(240, 244, 252, 0.75);
        }
    }

    td span i.fa.fa-chevron-down {
        padding-left: 0;
        padding-right: 14px;
        width: 0;
    }

    .rotateClockWise {
        animation-name: rotateClockWise;
        animation-duration: 0.2s;
        animation-timing-function: ease-in-out;
        animation-fill-mode: both;
    }

    .rotateAntiClockWise {
        animation-name: rotateAntiClockWise;
        animation-duration: 0.2s;
        animation-timing-function: ease-in-out;
        animation-fill-mode: both;
    }
}


// Excel-like tables where most cells are filled with input fields.
.table-input {
    border: none;

    // Clear header border
    >thead>tr>th {
        vertical-align: bottom;
        border-bottom: none;
    }

    // Clear any hover effects on the rows
    >tbody>tr:hover {
        border: none;

        >td,
        >th {
            background-color: @table-bg;
        }
    }

    // Remove borders and stripes
    >tbody>tr {
        background-color: @table-bg;
        border: none;

        &:nth-child(odd)>td {
            background-color: @table-bg;
        }

        >th,
        >td {
            padding: 0px !important;
            background-color: @table-bg;
            border-top: 1px solid #ddd;
            border-right: 1px solid #ddd;
            border-bottom: 1px solid #ccc;
            border-left: 1px solid #ddd;

            // Make input fields white and clean
            input {
                border: none;
                border-top: 1px solid fade(@input-border, 1%);
                border-right: 1px solid fade(@input-border, 1%);
                border-bottom: 1px solid fade(@input-border, 1%);
                border-left: 1px solid fade(@input-border, 1%);
                background-color: @body-bg;
                -moz-box-shadow: none;
                -webkit-box-shadow: none;
                box-shadow: none;

                &[disabled],
                &[readonly],
                fieldset[disabled] & {
                    border: none;
                    border-top: 1px solid fade(@input-border, 1%);
                    border-right: 1px solid fade(@input-border, 1%);
                    border-bottom: 2px solid fade(@input-border, 1%);
                    border-left: 1px solid fade(@input-border, 1%);
                }
            }

            // Remove hover effects on buttons
            .btn:hover {
                border-color: transparent;
            }

            &.clear-border {
                border: none;
            }
        }
    }
}


// Table cell sizing
//
// Reset default table behavior

table col[class*="col-"] {
    position: static; // Prevent border hiding in Firefox and IE9/10 (see https://github.com/twbs/bootstrap/issues/11623)
    float: none;
    display: table-column;
}

table {

    td,
    th {
        &[class*="col-"] {
            position: static; // Prevent border hiding in Firefox and IE9/10 (see https://github.com/twbs/bootstrap/issues/11623)
            float: none;
            display: table-cell;
        }
    }
}


// Table backgrounds
//
// Exact selectors below required to override `.table-striped` and prevent
// inheritance to nested tables.

// Generate the contextual variants
.table-row-variant(active; @table-bg-active);
.table-row-variant(success; @state-success-bg);
.table-row-variant(info; @state-info-bg);
.table-row-variant(warning; @state-warning-bg);
.table-row-variant(danger; @state-danger-bg);


// Responsive tables
//
// Wrap your tables in `.table-responsive` and we'll make them mobile friendly
// by enabling horizontal scrolling.

.table-responsive {
    width: 100%;
    margin-bottom: (@line-height-computed * 0.75);
    overflow-y: hidden;
    overflow-x: auto;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    -webkit-overflow-scrolling: touch;

    // Tighten up spacing
    >.table {
        margin-bottom: 0;

        // Ensure the content doesn't wrap
        >thead,
        >tbody,
        >tfoot {
            >tr {

                >th,
                >td {
                    white-space: nowrap;
                }
            }
        }
    }

    // Special overrides for the bordered tables
    >.table-bordered {
        border: 0;

        // Nuke the appropriate borders so that the parent can handle them
        >thead,
        >tbody,
        >tfoot {
            >tr {

                >th:first-child,
                >td:first-child {
                    border-left: 0;
                }

                >th:last-child,
                >td:last-child {
                    border-right: 0;
                }
            }
        }

        // Only nuke the last row's bottom-border in `tbody` and `tfoot` since
        // chances are there will be only one `tr` in a `thead` and that would
        // remove the border altogether.
        >tbody,
        >tfoot {
            >tr:last-child {

                >th,
                >td {
                    border-bottom: 0;
                }
            }
        }
    }
}



// Sortable table
//
// Adding header styles for sorted columns

.table-sortable {
    >thead>tr {
        >th {
            cursor: pointer;
            position: relative;
            padding-right: 1.2rem;

            &.sorted_asc {
                border-bottom: 2px solid @application-color-glow;
                color: @application-color-glow;

                &::after {
                    .fontAwesomeProPsuedoElementsLight();
                    content: '\f077';
                    position: absolute;
                    right: 0;
                    font-size: 0.80rem;
                }

            }

            &.sorted_desc {
                border-bottom: 2px solid @application-color-glow;
                color: @application-color-glow;

                &::after {
                    .fontAwesomeProPsuedoElementsLight();
                    content: '\f078';
                    position: absolute;
                    right: 0;
                    font-size: 0.80rem;
                }
            }
        }
    }
}